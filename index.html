<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FOKO ÜRÜN BİLGİ REHBERİ (PWA)</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#004aad">
  <link rel="icon" href="icons/icon-192.png">
  <style>
    :root {
      --bg: #f0f8ff; --fg: #0b0f14; --accent: #004aad; --accentText: #ffffff;
      --sectionTitle: #cc0000; --btnBg: #1d4ed8; --btnFg: #ffffff;
      --badgeBg: #1f2937; --badgeFg: #e5e7eb;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    header{display:flex;align-items:center;justify-content:center;padding:14px 10px 6px;position:relative;flex-wrap:wrap;gap:6px}
    h1{margin:0;color:var(--sectionTitle);font-size:20px;text-align:center}
    .header-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    button,select,input[type="file"],input[type="text"]{border:none;outline:none;border-radius:10px;padding:10px 14px;background:var(--btnBg);color:var(--btnFg);cursor:pointer;font-weight:600}
    button.secondary,.chip{background:#0b1220;color:#e5e7eb}
    .container{max-width:1400px;margin:0 auto;padding:8px 14px 80px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:30px}
    .section h2{color:var(--sectionTitle);font-size:14px;margin:12px 0 10px}
    .btn-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .cta{width:100%}
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;z-index:50}
    .modal{background:#fff;color:#000;width:min(980px,92vw);max-height:88vh;overflow:auto;border-radius:16px;padding:16px}
    .row{display:flex;gap:10px;align-items:center}.row>*{flex:1}
    .editor{border:2px solid #e5e7eb;border-radius:12px;padding:10px;min-height:260px;background:#fff;color:#111}
    .editor:focus{outline:2px solid var(--accent)}
    .images{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .images img{max-width:260px;border-radius:10px;border:1px solid #ddd}
    .footer-badge{position:fixed;right:16px;bottom:16px;background:var(--badgeBg);color:var(--badgeFg);padding:10px 14px;border-radius:16px;box-shadow:0 6px 16px rgba(0,0,0,.35);font-weight:700}
    .fab{position:fixed;right:16px;bottom:96px;background:#b91c1c;color:#fff;border-radius:16px;padding:10px 14px;box-shadow:0 6px 16px rgba(0,0,0,.35)}
    .menu{display:flex;gap:14px;align-items:center;padding:6px 14px 10px;flex-wrap:wrap}
    .menu a{color:var(--accent);text-decoration:underline;cursor:pointer}
    .muted{opacity:.7}.kicker{margin:6px 0 10px;font-size:12px}
    .profile{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
    @media (max-width:980px){.grid{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <h1 id="title">FOKO <span id="city">KUŞADASI</span> ÜRÜN BİLGİ REHBERİ</h1>
    <div class="header-actions">
      <div class="profile">
        <label for="profileSelect" class="muted">Müşteri:</label>
        <select id="profileSelect"></select>
        <button id="musteriEkleBtn" class="secondary" title="Yeni müşteri oluştur">Müşteri Ekle</button>
        <button id="musteriSilBtn" class="secondary" title="Seçili müşteriyi sil">Müşteri Sil</button>
        <button id="exportBtn" class="secondary" title="Yedeği indir (.json)">Dışa Aktar</button>
        <input type="file" id="importInput" accept="application/json" style="display:none">
        <button id="importBtn" class="secondary" title="Yedeği içe aktar (.json)">İçe Aktar</button>
      </div>
      <button id="editTitleBtn" title="Başlıktaki şehri düzenle">Düzenle</button>
    </div>
  </header>

  <nav class="menu container">
    <div class="row" style="gap:8px;flex:2;">
      <button id="addSectionBtn" class="secondary">Başlık Ekle…</button>
      <button id="renameSectionBtn" class="secondary">Başlık Düzenle…</button>
      <button id="addButtonBtn" class="secondary">Buton Ekle…</button>
      <button id="editButtonBtn" class="secondary">Buton Düzenle…</button>
    </div>
    <div style="flex:1;text-align:right;">
      <a id="aboutLink">Hakkında</a> • <a id="checkUpdateLink">Güncellemeleri İndir…</a>
    </div>
  </nav>

  <div class="container">
    <div id="grid" class="grid"></div>
  </div>

  <div class="fab" id="contactBtn">Yöneticiye Ulaş</div>
  <div class="footer-badge">Designed By Foko Kuşadası</div>

  <!-- Content Modal -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal">
      <div class="row" style="justify-content: space-between;">
        <h2 id="modalTitle" style="flex:none;">İçerik</h2>
        <div class="toolbar" style="flex:none;">
          <button data-cmd="bold"><b>B</b></button>
          <button data-cmd="italic"><i>I</i></button>
          <button data-cmd="underline"><u>U</u></button>
          <input type="color" id="colorPicker" title="Renk">
          <button id="bulletBtn">• Liste</button>
          <button id="numberBtn">1. Liste</button>
          <button id="clearBtn">Biçimi Temizle</button>
        </div>
      </div>
      <div id="editor" class="editor" contenteditable="true"></div>
      <div class="kicker muted">Görseller</div>
      <div class="row">
        <input id="imgInput" type="file" accept="image/*" multiple style="background:#fff;color:#000;">
        <button id="saveBtn">Kaydet</button>
        <button id="whatsBtn" class="secondary">WhatsApp</button>
        <button id="pngBtn" class="secondary">PNG İndir</button>
        <button id="closeBtn" class="secondary">Kapat</button>
      </div>
      <div id="images" class="images"></div>
    </div>
  </div>

  <!-- About Modal -->
  <div class="modal-backdrop" id="aboutBackdrop">
    <div class="modal">
      <h2>Hakkında</h2>
      <p><b>FOKO Ürün Bilgi Rehberi</b><br> Sürüm: <span id="versionText"></span></p>
      <p>Foko Kuşadası tarafından hazırlanmıştır.</p>
      <div class="row">
        <button id="aboutCloseBtn" class="secondary">Kapat</button>
      </div>
    </div>
  </div>

  <script src="app.v5.js"></script>
</body>
</html>
